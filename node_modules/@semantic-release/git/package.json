{
  "_args": [
    [
      "@semantic-release/git@^7.0.16",
      "/home"
    ]
  ],
  "_from": "@semantic-release/git@>=7.0.16 <8.0.0",
  "_hasShrinkwrap": false,
  "_id": "@semantic-release/git@7.0.16",
  "_inCache": true,
  "_installable": true,
  "_location": "/@semantic-release/git",
  "_nodeVersion": "10.16.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/git_7.0.16_1562000709831_0.693213800173333"
  },
  "_npmUser": {
    "email": "semantic-release@boennemann.me",
    "name": "semantic-release-bot"
  },
  "_npmVersion": "6.9.2",
  "_phantomChildren": {},
  "_requested": {
    "name": "@semantic-release/git",
    "raw": "@semantic-release/git@^7.0.16",
    "rawSpec": "^7.0.16",
    "scope": "@semantic-release",
    "spec": ">=7.0.16 <8.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "#DEV:/"
  ],
  "_resolved": "https://registry.npmjs.org/@semantic-release/git/-/git-7.0.16.tgz",
  "_shasum": "19921d2fdc75d712ae1706330dba8ebec8ced52d",
  "_shrinkwrap": null,
  "_spec": "@semantic-release/git@^7.0.16",
  "_where": "/home",
  "author": {
    "name": "Pierre Vanduynslager",
    "url": "https://github.com/pvdlg"
  },
  "ava": {
    "files": [
      "test/**/*.test.js"
    ],
    "helpers": [
      "test/helpers/**/*"
    ]
  },
  "bugs": {
    "url": "https://github.com/semantic-release/git/issues"
  },
  "config": {
    "commitizen": {
      "path": "cz-conventional-changelog"
    }
  },
  "contributors": [
    {
      "name": "Stephan BÃ¶nnemann",
      "email": "stephan@boennemann.me",
      "url": "http://boennemann.me"
    },
    {
      "name": "Gregor Martynus",
      "url": "https://twitter.com/gr2m"
    }
  ],
  "dependencies": {
    "@semantic-release/error": "^2.1.0",
    "aggregate-error": "^3.0.0",
    "debug": "^4.0.0",
    "dir-glob": "^3.0.0",
    "execa": "^1.0.0",
    "fs-extra": "^8.0.0",
    "globby": "^10.0.0",
    "lodash": "^4.17.4",
    "micromatch": "^4.0.0",
    "p-reduce": "^2.0.0"
  },
  "description": "semantic-release plugin to commit release assets to the project's git repository",
  "devDependencies": {
    "ava": "^2.0.0",
    "clear-module": "^3.0.0",
    "codecov": "^3.0.0",
    "commitizen": "^3.0.0",
    "cz-conventional-changelog": "^2.0.0",
    "file-url": "^3.0.0",
    "get-stream": "^5.0.0",
    "git-log-parser": "^1.2.0",
    "nyc": "^14.0.0",
    "semantic-release": "^15.0.0",
    "sinon": "^7.1.1",
    "tempy": "^0.3.0",
    "xo": "^0.24.0"
  },
  "directories": {},
  "dist": {
    "fileCount": 11,
    "integrity": "sha512-Bw/npxTVTeFPnQZmuczWRGRdxqJpWOOFZENx38ykyp42InwDFm4n72bfcCwmP/J4WqkPmMR4p+IracWruz/RUw==",
    "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJdGj1GCRA9TVsSAnZWagAAGrQP/AiE7nv9DXR4kNCosIdL\nWmyYMRyyM4ZH3cEaELcT0juE5wjEB+fKjnh4UicUG6nPDP0hKLDIyjLyLfYV\nPgz7ObWTdYdMh2bTbF6iKaSfmNiYEFDCmASjitG4O1IQES4e3Xl+m668Ryos\n3P5olYdpH4pqfhzjdNXquQS/3gwZnmxLzCYO/xJ5td/zDVTJmrbmKabVTXmq\nga04EdLCeJbnkuogQOlfKfrOY8s/cJGI2klUgous+2I9dQxyWFwPnYTDKp86\nZiUr4i0NNkvVf6sp+5vFvR5q+pntrsPh7DigqOquw+24jOiYdNUnMY6SZkt/\nwwBiwL4iCABZ26DsUBHM/kBid2ZYp/9v9DFxGoD528/vFaVQ4zWfz9dgvEpQ\nB/EdSHA6NXTEz1ipn/F3UEIzLJvVRUsBXFU2XbsFdMJ/zxaN6VP1KCz/WAB/\ngZBUSbx6XRCs9YNheDQfz/FxRajxIhS8P+iCuMDOqTaOSc+ZEVw4NvqjIipC\nccrDnKtRvjDnWI8V92UiYNa9njJ8Ug/rAeUeUCQxPnNQQuW4rnxcW4ovRCfv\n3L0TZLX2Le7BCGHg1MvF5ACIUk6leo3Sew08GDquE7PBDtV8h1Ja5RG8/WE3\nxWWQkTJeUVlEo2XSCplli9J3zlINkxsUfJFSFuPhxPzei+b4HUu/0ybTWvSo\ninsJ\r\n=4CKZ\r\n-----END PGP SIGNATURE-----\r\n",
    "shasum": "19921d2fdc75d712ae1706330dba8ebec8ced52d",
    "tarball": "https://registry.npmjs.org/@semantic-release/git/-/git-7.0.16.tgz",
    "unpackedSize": 28542
  },
  "engines": {
    "node": ">=8.3"
  },
  "gitHead": "a93b846c6de081b38e09f5967ca27c1378c7571c",
  "homepage": "https://github.com/semantic-release/git#readme",
  "keywords": [
    "changelog",
    "commit",
    "conventional-changelog",
    "conventional-commits",
    "git",
    "release",
    "semantic-release",
    "version"
  ],
  "license": "MIT",
  "main": "index.js",
  "maintainers": [
    {
      "name": "boennemann",
      "email": "stephan@boennemann.me"
    },
    {
      "name": "christophwitzko",
      "email": "npm@christophwitzko.com"
    },
    {
      "name": "gr2m",
      "email": "gregor@martynus.net"
    },
    {
      "name": "pvdlg",
      "email": "pierre.denis.vanduynslager@gmail.com"
    },
    {
      "name": "semantic-release-bot",
      "email": "semantic-release@boennemann.me"
    }
  ],
  "name": "@semantic-release/git",
  "nyc": {
    "all": true,
    "include": [
      "index.js",
      "lib/**/*.js"
    ],
    "reporter": [
      "html",
      "json",
      "text"
    ]
  },
  "optionalDependencies": {},
  "peerDependencies": {
    "semantic-release": ">=15.4.0 <16.0.0"
  },
  "prettier": {
    "printWidth": 120,
    "trailingComma": "es5"
  },
  "publishConfig": {
    "access": "public",
    "tag": "next"
  },
  "readme": "# @semantic-release/git\n\n[**semantic-release**](https://github.com/semantic-release/semantic-release) plugin to commit release assets to the project's [git](https://git-scm.com/) repository.\n\n[![Travis](https://img.shields.io/travis/semantic-release/git.svg)](https://travis-ci.org/semantic-release/git)\n[![Codecov](https://img.shields.io/codecov/c/github/semantic-release/git.svg)](https://codecov.io/gh/semantic-release/git)\n[![Greenkeeper badge](https://badges.greenkeeper.io/semantic-release/git.svg)](https://greenkeeper.io/)\n\n[![npm latest version](https://img.shields.io/npm/v/@semantic-release/git/latest.svg)](https://www.npmjs.com/package/@semantic-release/git)\n[![npm next version](https://img.shields.io/npm/v/@semantic-release/git/next.svg)](https://www.npmjs.com/package/@semantic-release/git)\n\n| Step               | Description                                                                                                                        |\n|--------------------|------------------------------------------------------------------------------------------------------------------------------------|\n| `verifyConditions` | Verify the access to the remote Git repository, the commit [`message`](#message) and the [`assets`](#assets) option configuration. |\n| `prepare`          | Create a release commit, including configurable file assets.                                                                       |\n\n## Install\n\n```bash\n$ npm install @semantic-release/git -D\n```\n\n## Usage\n\nThe plugin can be configured in the [**semantic-release** configuration file](https://github.com/semantic-release/semantic-release/blob/master/docs/usage/configuration.md#configuration):\n\n```json\n{\n  \"plugins\": [\n    \"@semantic-release/commit-analyzer\",\n    \"@semantic-release/release-notes-generator\",\n    [\"@semantic-release/git\", {\n      \"assets\": [\"dist/**/*.{js,css}\", \"docs\", \"package.json\"],\n      \"message\": \"chore(release): ${nextRelease.version} [skip ci]\\n\\n${nextRelease.notes}\"\n    }]\n  ]\n}\n```\n\nWith this example, for each release a release commit will be pushed to the remote Git repository with:\n- a message formatted like `chore(release): <version> [skip ci]\\n\\n<release notes>`\n- the `.js` and `.css` files in the `dist` directory, the files in the `docs` directory and the `package.json`\n\n## Configuration\n\n### Git authentication\n\nThe Git user associated with the [Git credentials](https://github.com/semantic-release/semantic-release/blob/master/docs/usage/ci-configuration.md#authentication) has to be able to push commit to the [release branch](https://github.com/semantic-release/semantic-release/blob/master/docs/usage/configuration.md#branch).\n\nWhen configuring branches permission on a Git hosting service (e.g. [GitHub protected branches](https://help.github.com/articles/about-protected-branches), [GitLab protected branches](https://docs.gitlab.com/ee/user/project/protected_branches.html) or [Bitbucket branch permissions](https://confluence.atlassian.com/bitbucket/branch-permissions-385912271.html)) it might be necessary to create a specific configuration in order to allow the **semantic-release** user to bypass global restrictions. For example on GitHub you can uncheck \"Include administrators\" and configure **semantic-release** to use an administrator user, so the plugin can push the release commit without requiring [status checks](https://help.github.com/articles/about-required-status-checks) and [pull request reviews](https://help.github.com/articles/about-required-reviews-for-pull-requests).\n\n### Environment variables\n\n| Variable              | Description                                                                                                                                                              | Default                              |\n|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------|\n| `GIT_AUTHOR_NAME`     | The author name associated with the release commit. See [Git environment variables](https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables#_committing).     | @semantic-release-bot.               |\n| `GIT_AUTHOR_EMAIL`    | The author email associated with the release commit. See [Git environment variables](https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables#_committing).    | @semantic-release-bot email address. |\n| `GIT_COMMITTER_NAME`  | The committer name associated with the release commit. See [Git environment variables](https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables#_committing).  | @semantic-release-bot.               |\n| `GIT_COMMITTER_EMAIL` | The committer email associated with the release commit. See [Git environment variables](https://git-scm.com/book/en/v2/Git-Internals-Environment-Variables#_committing). | @semantic-release-bot email address. |\n\n### Options\n\n| Options   | Description                                                                                                                  | Default                                                                        |\n|-----------|------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------|\n| `message` | The message for the release commit. See [message](#message).                                                                 | `chore(release): ${nextRelease.version} [skip ci]\\n\\n${nextRelease.notes}`     |\n| `assets`  | Files to include in the release commit. Set to `false` to disable adding files to the release commit. See [assets](#assets). | `['CHANGELOG.md', 'package.json', 'package-lock.json', 'npm-shrinkwrap.json']` |\n\n#### `message`\n\nThe message for the release commit is generated with [Lodash template](https://lodash.com/docs#template). The following variables are available:\n\n| Parameter     | Description                                                                         |\n|---------------|-------------------------------------------------------------------------------------|\n| `branch`      | The branch from which the release is done.                                          |\n| `lastRelease` | `Object` with `version`, `gitTag` and `gitHead` of the last release.                |\n| `nextRelease` | `Object` with `version`, `gitTag`, `gitHead` and `notes` of the release being done. |\n\n**Note**: It is recommended to include `[skip ci]` in the commit message to not trigger a new build. Some CI service support the `[skip ci]` keyword only in the subject of the message.\n\n##### `message` examples\n\nThe `message` `Release <%= nextRelease.version %> - <%= new Date().toLocaleDateString('en-US', {year: 'numeric', month: 'short', day: 'numeric', hour: 'numeric', minute: 'numeric' }) %> [skip ci]\\n\\n<%= nextRelease.notes %>` will generate the commit message:\n\n> Release v1.0.0 - Oct. 21, 2015 1:24 AM \\[skip ci\\]<br><br>## 1.0.0<br><br>### Features<br>* Generate 1.21 gigawatts of electricity<br>...\n\n#### `assets`\n\nCan be an `Array` or a single entry. Each entry can be either:\n- a [glob](https://github.com/micromatch/micromatch#matching-features)\n- or an `Object` with a `path` property containing a [glob](https://github.com/micromatch/micromatch#matching-features).\n\nEach entry in the `assets` `Array` is globbed individually. A [glob](https://github.com/micromatch/micromatch#matching-features) can be a `String` (`\"dist/**/*.js\"` or `\"dist/mylib.js\"`) or an `Array` of `String`s that will be globbed together (`[\"dist/**\", \"!**/*.css\"]`).\n\nIf a directory is configured, all the files under this directory and its children will be included.\n\n**Note**: If a file has a match in `assets` it will be included even if it also has a match in `.gitignore`.\n\n##### `assets` examples\n\n`'dist/*.js'`: include all `js` files in the `dist` directory, but not in its sub-directories.\n\n`'dist/**/*.js'`: include all `js` files in the `dist` directory and its sub-directories.\n\n`[['dist', '!**/*.css']]`: include all files in the `dist` directory and its sub-directories excluding the `css` files.\n\n`[['dist', '!**/*.css'], 'package.json']`: include `package.json` and all files in the `dist` directory and its sub-directories excluding the `css` files.\n\n`[['dist/**/*.{js,css}', '!**/*.min.*']]`: include all `js` and `css` files in the `dist` directory and its sub-directories excluding the minified version.\n\n### Examples\n\nWhen used with the [@semantic-release/changelog](https://github.com/semantic-release/changelog) or [@semantic-release/npm](https://github.com/semantic-release/npm) plugins:\n- The [@semantic-release/changelog](https://github.com/semantic-release/changelog) plugin must be called first in order to update the changelog file so the `@semantic-release/git` and [@semantic-release/npm](https://github.com/semantic-release/npm) plugins can include it in the release.\n- The [@semantic-release/npm](https://github.com/semantic-release/npm) plugin must be called second in order to update the `package.json` file so the `@semantic-release/git` plugin can include it in the release commit.\n\n```json\n{\n  \"plugins\": [\n    \"@semantic-release/commit-analyzer\",\n    \"@semantic-release/release-notes-generator\",\n    \"@semantic-release/changelog\",\n    \"@semantic-release/npm\",\n    \"@semantic-release/git\"\n  ],\n}\n```\n\n### GPG signature\n\nUsing GPG, you can [sign and verify tags and commits](https://git-scm.com/book/id/v2/Git-Tools-Signing-Your-Work). With GPG keys, the release tags and commits made by Semantic-release are verified and other people can trust that they were really were made by your account.\n\n#### Generate the GPG keys\n\nIf you already have a GPG public and private key you can skip this step and go to the [Get the GPG keys ID and the public key content](#get-the-gpg-keys-id-and-the-public-key-content) step.\n\n[Download and install the GPG command line tools](https://www.gnupg.org/download/#binary) for your operating system.\n\nCreate a GPG key\n\n```bash\n$ gpg --full-generate-key\n```\n\nAt the prompt select the `RSA and RSA` king of key, enter `4096` for the keysize, specify how long the key should be valid, enter yout name, the email associated with your Git hosted account and finally set a long and hard to guess passphrase.\n\n#### Get the GPG keys ID and the public key content\n\nUse the `gpg --list-secret-keys --keyid-format LONG` command to list your GPG keys. From the list, copy the GPG key ID you just created.\n\n```bash\n$ gpg --list-secret-keys --keyid-format LONG\n/Users/<user_home>/.gnupg/pubring.gpg\n---------------------------------------\nsec   rsa4096/XXXXXXXXXXXXXXXX 2017-12-01 [SC]\nuid                 <your_name> <your_email>\nssb   rsa4096/YYYYYYYYYYYYYYYY 2017-12-01 [E]\n```\nthe GPG key ID if 16 character string, on the on the `sec` line, after `rsa4096`. In this example, the GPG key ID is `XXXXXXXXXXXXXXXX`.\n\nExport the public key (replace XXXXXXXXXXXXXXXX with your key ID):\n\n```bash\n$ gpg --armor --export XXXXXXXXXXXXXXXX\n```\n\nCopy your GPG key, beginning with -----BEGIN PGP PUBLIC KEY BLOCK----- and ending with -----END PGP PUBLIC KEY BLOCK-----\n\n#### Add the GPG key to your Git hosted account\n\n##### Add the GPG key to GitHub\n\nIn GitHub **Settings**, click on **SSH and GPG keys** in the sidebar, then on the **New GPG Key** button.\n\nPaste the entire GPG key export previously and click the **Add GPG Key** button.\n\nSee [Adding a new GPG key to your GitHub account](https://help.github.com/articles/adding-a-new-gpg-key-to-your-github-account/) for more details.\n\n### Use the GPG key to sign commit and tags locally\n\nIf you want to use this GPG to also sign the commits and tags you create on your local machine you can follow the instruction at [Git Tools - Signing Your Work](https://git-scm.com/book/id/v2/Git-Tools-Signing-Your-Work)\nThis step is optional and unrelated to Semantic-release.\n\n#### Add the GPG keys to your CI environment\n\nMake the public and private GPG key available on the CI environment. Encrypt the keys, commit it to your repository and configure the CI environment to decrypt it.\n\n##### Add the GPG keys to Travis CI\n\nInstall the [Travis CLI](https://github.com/travis-ci/travis.rb#installation):\n\n```bash\n$ gem install travis\n```\n\n[Login](https://github.com/travis-ci/travis.rb#login) to Travis with the CLI:\n\n```bash\n$ travis login\n```\n\nAdd the following [environment](https://github.com/travis-ci/travis.rb#env) variables to Travis:\n- `GPG_PASSPHRASE` to Travis with the value set during the [GPG keys generation](#generate-the-gpg-keys) step\n- `GPG_KEY_ID` to Travis with the value of your GPG key ID retrieved during the [GPG keys generation](#generate-the-gpg-keys) (replace XXXXXXXXXXXXXXXX with your key ID)\n- `GIT_EMAIL` with the email address you set during the [GPG keys generation](#generate-the-gpg-keys) step\n- `GIT_USERNAME` with the name you set during the [GPG keys generation](#generate-the-gpg-keys) step\n\n```bash\n$ travis env set GPG_PASSPHRASE <gpg_passphrase>\n$ travis env set GPG_KEY_ID XXXXXXXXXXXXXXXX\n$ travis env set GIT_EMAIL <your_email>\n$ travis env set GIT_USERNAME <your_name>\n```\n\nFrom your repository root export your public and private GPG keys in the `git_gpg_keys.asc` (replace XXXXXXXXXXXXXXXX with your key ID):\n\n```bash\n$ gpg --export -a XXXXXXXXXXXXXXXX > git_gpg_keys.asc\n$ gpg --export-secret-key -a XXXXXXXXXXXXXXXX >> git_gpg_keys.asc\n```\n\n[Encrypt](https://github.com/travis-ci/travis.rb#encrypt) the `git_gpg_keys.asc` (public and private key) using a symmetric encryption (AES-256), and store the secret in a secure environment variable in the Travis environment:\n\n```bash\n$ travis encrypt-file git_gpg_keys.asc\n```\nThe `travis encrypt-file` will encrypt the keys into the `git_gpg_keys.asc.enc` file and output in the console the command to add to your `.travis.yml` file. It should look like `openssl aes-256-cbc -K $encrypted_AAAAAAAAAAAA_key -iv $encrypted_BBBBBBBBBBBB_iv -in git_gpg_keys.asc.enc -out git_gpg_keys.asc -d`.\n\nCopy this command to your `.travis.yml` file in the `before_install` step. Change the output path to write the unencrypted key in `/tmp`: `-out git_gpg_keys.asc` => `/tmp/git_gpg_keys.asc`. This will avoid to commit / modify / delete the unencrypted keys by mistake on the CI. Then add the commands to decrypt the GPG keys and make it available to `git`:\n\n```yaml\nbefore_install:\n  # Decrypt the git_gpg_keys.asc.enc key into /tmp/git_gpg_keys.asc\n  - openssl aes-256-cbc -K $encrypted_AAAAAAAAAAAA_key -iv $encrypted_BBBBBBBBBBBB_iv -in git_gpg_keys.asc.enc -out /tmp/git_gpg_keys.asc -d\n  # Make sure only the current user can read the keys\n  - chmod 600 /tmp/git_gpg_keys.asc\n  # Import the gpg key\n  - gpg --batch --yes --import /tmp/git_gpg_keys.asc\n  # Create a script that pass the passphrase to the gpg CLI called by git\n  - echo '/usr/bin/gpg2 --passphrase ${GPG_PASSPHRASE} --batch --no-tty \"$@\"' > /tmp/gpg-with-passphrase && chmod +x /tmp/gpg-with-passphrase\n  # Configure git to use the script that passes the passphrase\n  - git config gpg.program \"/tmp/gpg-with-passphrase\"\n  # Configure git to sign the commits and tags\n  - git config commit.gpgsign true\n  # Configure git to use your GPG key\n  - git config --global user.signingkey ${GPG_KEY_ID}\n```\n\nSee [Encrypting Files](https://docs.travis-ci.com/user/encrypting-files/) for more details.\n\nDelete the local keys as it won't be used anymore:\n\n```bash\n$ rm git_gpg_keys.asc\n```\n\nCommit the encrypted keys and the `.travis.yml` file to your repository:\n\n```bash\n$ git add git_gpg_keys.asc.enc .travis.yml\n$ git commit -m \"ci(travis): Add the encrypted GPG keys\"\n$ git push\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/semantic-release/git.git"
  },
  "scripts": {
    "cm": "git-cz",
    "codecov": "codecov -f coverage/coverage-final.json",
    "lint": "xo",
    "pretest": "npm run lint",
    "semantic-release": "semantic-release",
    "test": "nyc ava -v"
  },
  "version": "7.0.16",
  "xo": {
    "prettier": true,
    "space": true
  }
}
